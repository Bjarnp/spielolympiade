<div class="container mt-4">
  <h2>Neue Saison starten</h2>

  <div *ngIf="step === 1">
    <h4>Spieler ausw채hlen</h4>
    <div *ngFor="let p of players" class="form-check">
      <input type="checkbox" class="form-check-input" [id]="p.id" (change)="togglePlayer(p.id)">
      <label class="form-check-label" [for]="p.id">{{p.name}}</label>
    </div>
    <button class="btn btn-primary mt-3" (click)="next()">Weiter</button>
  </div>

  <div *ngIf="step === 2">
    <h4>Teams erstellen</h4>
    <button class="btn btn-secondary mb-3" (click)="autoTeams()">Teams automatisch erstellen</button>
    <div *ngFor="let team of teams; let i = index" class="mb-3">
      <input class="form-control mb-1" [(ngModel)]="team.name" placeholder="Teamname" />
      <p>
        Spieler:
        <span *ngFor="let pid of team.playerIds; let j = index">
          {{ players.find(p => p.id === pid)?.name }}<span *ngIf="j < team.playerIds.length-1">, </span>
        </span>
      </p>
    </div>
    <button class="btn btn-secondary me-2" (click)="prev()">Zur체ck</button>
    <button class="btn btn-primary" (click)="next()">Weiter</button>
  </div>

  <div *ngIf="step === 3">
    <h4>Spiele ausw채hlen</h4>
    <div *ngFor="let g of games" class="form-check">
      <input type="checkbox" class="form-check-input" [id]="g.id" (change)="selectedGameIds.has(g.id) ? selectedGameIds.delete(g.id) : selectedGameIds.add(g.id)">
      <label class="form-check-label" [for]="g.id">{{g.name}}</label>
    </div>
    <div class="mt-3">
      <label for="formSelect" class="form-label">Turnierform</label>
      <select id="formSelect" class="form-select" [(ngModel)]="selectedForm">
        <option *ngFor="let f of tournamentForms" [value]="f">{{f}}</option>
      </select>
    </div>
    <button class="btn btn-secondary me-2 mt-3" (click)="prev()">Zur체ck</button>
    <button class="btn btn-success mt-3" (click)="createTournament()">Erstellen</button>
  </div>
</div>
